generator client {
  provider = "prisma-client"
  output   = "./generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Card {
  id   String @id @default(uuid()) @db.Uuid
  frontLanguage      String
  frontItem          String
  frontPronunciation String?
  frontExample       String?
  frontStatus        Int
  frontDate          DateTime @default(now())
  backLanguage       String
  backItem           String
  backPronunciation  String?
  backExample        String?
  backStatus         Int
  backDate           DateTime @default(now())
  userId             String
  language           String   @default("")
}

model Language {
  id                                   String @id @default(uuid()) @db.Uuid
  firstLanguage                        String
  secondLanguage                       String
  userId                               String @db.Uuid
  user           User   @relation("Language_userIdToUser", fields: [userId], references: [id])
  activeForUser User?  @relation("User_activeLanguageIdToLanguage")
}

model User {
  id                                       String     @id @default(uuid()) @db.Uuid
  password                                 String
  username                                 String     @unique
  activeLanguageId                         String?    @unique @db.Uuid
  languages           Language[] @relation("Language_userIdToUser")
  activeLanguage Language?  @relation("User_activeLanguageIdToLanguage", fields: [activeLanguageId], references: [id])
}

