datasource db {
  provider          = "postgresql"
  url               = env("DATABASE_URL")
  directUrl         = env("DIRECT_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Card {
  id           String     @id @default(uuid())
  frontLanguage         String
  frontItem     String
  frontPronunciation    String?
  frontExample   String?
  frontStatus Int
  frontDate DateTime   @default(now())
  backLanguage        String
  backItem    String
  backPronunciation String?
  backExample   String?
  backStatus Int
  backDate    DateTime   @default(now())
  userId  String
  language String @default("")
}

model User {
  id           String     @id @default(uuid())
  username String @unique 
  password String
  languages Language[]
  activeLanguage Language?  @relation("ActiveLanguage", fields: [activeLanguageId], references: [id])
  activeLanguageId String?      @unique // Optional + unique to ensure 1-to-1
}

model Language {
  id           String     @id @default(uuid())
  firstLanguage String
  secondLanguage String
  user     User    @relation(fields: [userId], references: [id])
  userId   String  
  activeForUser User? @relation("ActiveLanguage")
}
// model LanguagePair {
//   id           String     @id @default(uuid())
//   firstLanguage String
//   secondLanguage String
//   label String @default("")
//   selected Boolean
//   userId String
// }